(window.webpackJsonpTQPrism = window.webpackJsonpTQPrism || []).push([
  [2],
  {
    13: function (n, t, e) {
      'use strict';
      e.d(t, 'd', function () {
        return o;
      }),
        e.d(t, 'b', function () {
          return i;
        }),
        e.d(t, 'c', function () {
          return r;
        }),
        e.d(t, 'e', function () {
          return c;
        }),
        e.d(t, 'a', function () {
          return u;
        });
      var o = {
          addStyle: function () {
            var n = document.createElement('style');
            (n.innerHTML =
              "\n    .tq-h5-container-gis-view {\n        display: flex;\n        flex-direction: column;\n        min-height: 100vh;\n        width: 100%;\n        background-color: #f6f6f6;\n        overflow-Y: 'hidden';\n        overflow-x: 'hidden';\n        position: fixed;\n        top: 0px;\n        left: 0px;\n    }\n    .tq-h5-container-gis-view iframe {\n        height: 100%;\n        width: 100%;\n        position: fixed;\n        left: 0px;\n        top: 0px;\n        z-index: 9999;\n        overflow-Y: 'hidden';\n        overflow-x: 'hidden';\n    }\n    .tq-h5-container-gis-view-header{\n        display: flex;\n        flex-direction: row;\n        justify-content:space-between;\n        z-index: 10000;\n        padding: 10px;\n        background-color: #ffffff;\n        border-bottom: 1px solid #e9ecef;\n    }\n    .tq-h5-container-gis-view-title{\n        font-weight: bold;\n    }\n    .tq-h5-container-gis-view-close{\n        font-size: 1rem;\n        font-weight: 700;\n        line-height: 1;\n        color: #000;\n        text-shadow: 0 1px 0 #fff;\n        opacity: .5;\n    }\n"),
              document.getElementsByTagName('head')[0].appendChild(n);
          },
          handle: function (n) {
            var t = n.longitude,
              e = n.latitude,
              o = n.name,
              i = void 0 === o ? '信息点' : o;
            return new Promise(function (n, o) {
              var r = document.createElement('div');
              (r.innerHTML =
                '\n    <div class="tq-h5-container-gis-view">\n        <div class="tq-h5-container-gis-view-header">\n            <div class="tq-h5-container-gis-view-title">天阙地图</div>\n            <div class="tq-h5-container-gis-view-close">X</div>\n        </div>\n        <iframe id="tq-h5-container-gis-view-iframe" src=""></iframe>\n    </div>\n'),
                document.body.appendChild(r),
                document
                  .querySelector('.tq-h5-container-gis-view-close')
                  .addEventListener('click', function () {
                    r.remove();
                  });
              var c = 'https://m.amap.com/navi/?dest='
                .concat(t, ',')
                .concat(e, '&destName=')
                .concat(
                  i,
                  '&hideRouteIcon=1&key=1e04f956b4916ccc76323366545781f3',
                );
              document.querySelector(
                '#tq-h5-container-gis-view-iframe',
              ).src = c;
            });
          },
        },
        i = {
          addStyle: function () {},
          handle: function (n) {
            n.users;
            return new Promise(function (n, t) {});
          },
        },
        r = {
          handle: function (n) {
            var t = n.src;
            return new Promise(function (n, e) {
              var o = new Image();
              (o.crossOrigin = 'Anonymous'),
                (o.src = t),
                (o.onload = function () {
                  var t = document.createElement('canvas'),
                    e = t.getContext('2d');
                  (t.width = o.naturalWidth),
                    (t.height = o.naturalHeight),
                    e.drawImage(o, 0, 0, 300, 200),
                    n({
                      errMsg: 'getImageInfo:ok',
                      width: o.naturalWidth,
                      height: o.naturalHeight,
                      path: o,
                    });
                });
            });
          },
        },
        c = {
          handle: function (n) {
            var t = n.filePath;
            return new Promise(function (n, e) {
              var o = document.createElement('a');
              (o.href = t),
                (o.download = new Date().getTime() + '.jpeg'),
                document.body.appendChild(o),
                o.click(),
                document.body.removeChild(o),
                n();
            });
          },
        };
      function a(n) {
        return (
          (function (n) {
            if (Array.isArray(n)) {
              for (var t = 0, e = new Array(n.length); t < n.length; t++)
                e[t] = n[t];
              return e;
            }
          })(n) ||
          (function (n) {
            if (
              Symbol.iterator in Object(n) ||
              '[object Arguments]' === Object.prototype.toString.call(n)
            )
              return Array.from(n);
          })(n) ||
          (function () {
            throw new TypeError(
              'Invalid attempt to spread non-iterable instance',
            );
          })()
        );
      }
      var u = function (n) {
        var t,
          e = n.multiple,
          o = void 0 === e || e,
          i = n.accept,
          r = void 0 === i ? '*/*' : i,
          c = n.fileId,
          u = void 0 === c ? 'fileId' : c,
          s = n.success,
          f =
            (n.fail,
            { errMsg: 'chooseFile:ok', tempFilePaths: [], tempFiles: [] }),
          l = document.getElementById(u);
        if (!l) {
          var d = document.createElement('input');
          d.setAttribute('type', 'file'),
            d.setAttribute('id', u),
            !0 === o && d.setAttribute('multiple', 'multiple'),
            d.setAttribute('accept', r),
            d.setAttribute(
              'style',
              'position: fixed; top: -4000px; left: -3000px; z-index: -300;',
            ),
            document.body.appendChild(d),
            (l = document.getElementById(u));
        }
        var p = new Promise(function (n) {
            t = n;
          }),
          h = document.createEvent('MouseEvents');
        return (
          h.initEvent('click', !0, !0),
          l.dispatchEvent(h),
          (l.onchange = function (n) {
            var e = a(n.target.files);
            e &&
              e.forEach(function (o) {
                var i = new Blob([o], { type: o.type }),
                  r = URL.createObjectURL(i);
                f.tempFilePaths.push(r),
                  f.tempFiles.push({
                    path: r,
                    size: o.size,
                    type: o.type,
                    name: o.name,
                  }),
                  f.tempFiles.length === e.length &&
                    ('function' == typeof s && s(f),
                    t(f),
                    (n.target.value = ''));
              });
          }),
          p
        );
      };
    },
    14: function (n, t, e) {
      'use strict';
      function o(n) {
        return (o =
          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
            ? function (n) {
                return typeof n;
              }
            : function (n) {
                return n &&
                  'function' == typeof Symbol &&
                  n.constructor === Symbol &&
                  n !== Symbol.prototype
                  ? 'symbol'
                  : typeof n;
              })(n);
      }
      e.d(t, 'a', function () {
        return f;
      });
      var i = function (n) {
          var t = n.apiUrl,
            e = n.appKey,
            i = function (n, t, e) {
              return function () {
                var o = n.response;
                200 === n.status ? (0 == o.code ? t(o.data) : e(o.msg)) : e(o);
              };
            };
          this.api = {
            get: function (n, r) {
              return new Promise(function (c, a) {
                var u,
                  s = new XMLHttpRequest(),
                  f = ''
                    .concat(t, '/')
                    .concat(n, '?appKey=')
                    .concat(e, '&')
                    .concat(
                      (u = r)
                        ? Object.keys(u)
                            .map(function (n) {
                              return ''
                                .concat(encodeURIComponent(n), '=')
                                .concat(
                                  'object' === o(u[n])
                                    ? encodeURIComponent(JSON.stringify(u[n]))
                                    : encodeURIComponent(u[n]),
                                );
                            })
                            .join('&')
                        : '',
                    );
                s.open('GET', f),
                  (s.responseType = 'json'),
                  (s.onload = i(s, c, a)),
                  (s.onerror = a),
                  s.send();
              });
            },
            post: function (n, o) {
              return new Promise(function (r, c) {
                var a = new XMLHttpRequest(),
                  u = ''.concat(t, '/').concat(n, '?appKey=').concat(e);
                a.open('POST', u),
                  a.setRequestHeader('content-type', 'application/json'),
                  (a.responseType = 'json'),
                  (a.onload = i(a, r, c)),
                  (a.onerror = c),
                  a.send(JSON.stringify(o));
              });
            },
          };
        },
        r = e(0),
        c = e.n(r),
        a = e(2),
        u = e(13),
        s = e(18);
      var f = function n(t) {
        var e = this;
        !(function (n, t) {
          if (!(n instanceof t))
            throw new TypeError('Cannot call a class as a function');
        })(this, n),
          Object.assign(this, s),
          [c.a, i].forEach(function (n) {
            return n.call(e, t);
          }),
          (this.url2base64 = function () {
            var n =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              t = n.success,
              e = n.fail,
              o = n.url;
            return Object(a.wrapFn)(t, e, function (n, t) {
              fetch(o)
                .then(function (n) {
                  return n.blob();
                })
                .then(function (t) {
                  var e = new FileReader();
                  (e.onload = function (t) {
                    n(t.target.result.split(',')[1]);
                  }),
                    e.readAsDataURL(t);
                })
                .catch(t);
            });
          }),
          (this.createCanvasContext = function (n, t) {
            var e = document
              .querySelector('canvas[canvasid="'.concat(n, '"]'))
              .getContext('2d');
            return (
              (e.setTextBaseline = function (n) {
                e.textBaseline = n;
              }),
              (e.setTextAlign = function (n) {
                e.textAlign = n;
              }),
              (e.setFillStyle = function (n) {
                e.fillStyle = n;
              }),
              (e.setFontSize = function (n) {
                e.font = ''.concat(n, 'px serif');
              }),
              e
            );
          }),
          (this.chooseFile = function (n) {
            var t = n.multiple,
              e = void 0 === t || t,
              o = n.fileId,
              i = void 0 === o ? 'fileId' : o,
              r = n.accept,
              c = void 0 === r ? '*/*' : r,
              s = n.success,
              f = n.fail;
            return Object(a.wrapFn)(s, f, function (n, t) {
              Object(u.a)({
                multiple: e,
                accept: c,
                fileId: i,
                success: n,
                fail: t,
              });
            });
          }),
          (this.getImageInfo = function () {
            var n =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              t = n.src,
              e = n.success,
              o = n.fail;
            return Object(a.wrapFn)(e, o, function (n, e) {
              u.c.handle({ src: t }).then(n).catch(e);
            });
          }),
          (this.saveImageToPhotosAlbum = function () {
            var n =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              t = n.filePath,
              e = n.success,
              o = n.fail;
            return Object(a.wrapFn)(e, o, function (n, e) {
              u.e.handle({ filePath: t }).then(n).catch(e);
            });
          });
      };
    },
    6: function (n, t, e) {
      'use strict';
      e.r(t),
        e.d(t, 'default', function () {
          return f;
        });
      var o = e(14),
        i = e(2),
        r = e(13);
      function c(n) {
        return (c =
          'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
            ? function (n) {
                return typeof n;
              }
            : function (n) {
                return n &&
                  'function' == typeof Symbol &&
                  n.constructor === Symbol &&
                  n !== Symbol.prototype
                  ? 'symbol'
                  : typeof n;
              })(n);
      }
      function a(n) {
        return (a = Object.setPrototypeOf
          ? Object.getPrototypeOf
          : function (n) {
              return n.__proto__ || Object.getPrototypeOf(n);
            })(n);
      }
      function u(n) {
        if (void 0 === n)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called",
          );
        return n;
      }
      function s(n, t) {
        return (s =
          Object.setPrototypeOf ||
          function (n, t) {
            return (n.__proto__ = t), n;
          })(n, t);
      }
      var f = (function (n) {
        function t(n) {
          var e, o, s;
          !(function (n, t) {
            if (!(n instanceof t))
              throw new TypeError('Cannot call a class as a function');
          })(this, t),
            (o = this),
            (e =
              !(s = a(t).call(this, n)) ||
              ('object' !== c(s) && 'function' != typeof s)
                ? u(o)
                : s);
          var f = u(e);
          return (
            (f._config.authCode = 'xxx'),
            r.d.addStyle(),
            (f.closeWindow = function () {
              window.close();
            }),
            (f.getLocation = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                navigator.geolocation
                  ? navigator.geolocation.getCurrentPosition(function (t) {
                      n({
                        longitude: t.coords.longitude,
                        latitude: t.coords.latitude,
                      });
                    })
                  : t({ error: '平台暂不支持' });
              });
            }),
            (f.openLocation = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.longitude,
                e = n.latitude,
                o = n.success,
                c = n.fail;
              return Object(i.wrapFn)(o, c, function (n, o) {
                r.d.handle({ longitude: t, latitude: e }).then(n).catch(o);
              });
            }),
            (f.startUpdateLocation = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.stopUpdateLocation = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.onLocationChange = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.offLocationChange = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.onVoiceRecordEnd = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.onVoicePlayEnd = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.playVoice = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.pauseVoice = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.stopVoice = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.startRecord = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.stopRecord = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                t({ error: '平台暂不支持' });
              });
            }),
            (f.contactPicker = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                n([]);
              });
            }),
            (f.login = function () {
              var n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = n.success,
                e = n.fail;
              return Object(i.wrapFn)(t, e, function (n, t) {
                (f._config.authCode = 'dfc314c5-41e5-4a0e-b171-084186b3b75a'),
                  setTimeout(function () {
                    n(f._config);
                  }, 0);
              });
            }),
            f.login().then(function () {
              console.log('login'), f._emit('ready', f._config);
            }),
            e
          );
        }
        return (
          (function (n, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function',
              );
            (n.prototype = Object.create(t && t.prototype, {
              constructor: { value: n, writable: !0, configurable: !0 },
            })),
              t && s(n, t);
          })(t, n),
          t
        );
      })(o.a);
    },
  },
]);
